<html>
<head>
    <title>D3.js Graph Editor</title>

    <script type="text/javascript" src="lib/jquery-2.1.3.js"></script>
    <script type="text/javascript" src="lib/d3.min.js"></script>
    <script type="text/javascript" src="graphEditor.js"></script>
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <h1>D3.js Graph Editor</h1>
    </p>
    <button id="print">Print Nodes</button>
    <button id="add">Add</button>
    <button id="reload">Reload</button>
    <div id="graphEditor"></div>
    <script type="text/javascript">
        //graph editor example
        $(function(){

            var nodes = [
                {id: 0, reflexive: false},
                {id: 1, reflexive: true },
                {id: 2, reflexive: false}
            ];

            var links = [
                {source: nodes[0], target: nodes[1], left: false, right: true },
                {source: nodes[1], target: nodes[2], left: false, right: true }
            ];

            var newNodes = [
                {id: 0, reflexive: false},
                {id: 1, reflexive: true }
            ];

            var newLinks = [
                {source: newNodes[0], target: newNodes[1], left: false, right: true }
            ];

            var editor = new GraphEditor("#graphEditor",  {nodes : nodes, links : links, lastNodeID : 2});

            $("#print").on("click", function(){
                console.log(nodes);
                console.log(links);
            });

            $("#add").on("click", function(){
                editor.addNode({id: 1});
            })

            $("#reload").on("click", function(){
                editor.reload({nodes : newNodes, links : newLinks, lastNodeID : 1});
            });

        });
    </script>
</body>
</html>
